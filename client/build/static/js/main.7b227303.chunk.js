(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(69)},38:function(e,t,a){},56:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(30),r=a.n(i),c=a(72),o=a(74),s=a(73),u=a(10),d=a(11),h=a(13),m=a(12),b=a(14);a(38);var p=function(e){return l.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),"\u2717")};var f=function(e){var t=e.children;return console.log(t),l.a.createElement("div",{style:{height:200,clear:"both",paddingTop:70,textAlign:"center"},className:"jumbotron container",id:"jumbo-lib"},t)},g=a(9),E=a.n(g),v={getUsers:function(){return E.a.get("/api/user")},getUser:function(e){return E.a.get("/api/user/"+e)},deleteUser:function(e){return E.a.delete("/api/user/"+e)},saveUser:function(e){return E.a.post("/api/user",e)},getHabits:function(){return E.a.get("/api/habit")},saveHabit:function(e){return E.a.post("/api/habit",e)},updateHabits:function(e,t){return E.a.put("/api/user/habits/"+e,t).then(function(e){return e.data})},deleteHabit:function(e){return E.a.delete("/api/habit/"+e)}},C=a(71);function w(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function N(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function k(e){var t=e.size,a=e.children;return l.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)}a(56);function H(e){var t=e.children;return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("ul",{className:"list-group"},t))}function j(e){var t=e.children;return l.a.createElement("li",{className:"list-group-item"},t)}n.Component,n.Component;var O=function(){return l.a.createElement(w,{fluid:!0},l.a.createElement(N,null,l.a.createElement(k,{size:"md-12"},l.a.createElement(f,null,l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,l.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))},y=a(15),I=a(4);var x=function(e){return l.a.createElement("div",{onClick:e.onClick,id:"login-button",className:"button_cont",align:"center"},l.a.createElement("a",{className:"example_e",rel:"nofollow noopener"},"Login"))};var L=function(e){return l.a.createElement("div",{onClick:e.onClick,className:"button_cont",align:"center"},l.a.createElement("a",{className:"example_d",rel:"nofollow noopener"},"Logout"))};var U=function(e){return l.a.createElement("h1",null,"Welcome back!")};var A=function(e){return l.a.createElement("h1",null,"Returning user? Please login.")};var S=function(e){return e.isLoggedIn?l.a.createElement(U,null):l.a.createElement(A,null)};var _=function(e){return l.a.createElement("div",{onClick:e.onClick,className:"button_cont",align:"center"},l.a.createElement("a",{className:"example_b",rel:"nofollow noopener"},"Create New Account"))};var B=function(e){return l.a.createElement("div",{onClick:e.onClick,className:"button_cont",align:"center"},l.a.createElement("a",{className:"example_c",rel:"nofollow noopener"},"Add New Habit"))};var D=function(e){return l.a.createElement("div",{onClick:e.onClick,className:"button_cont",align:"center"},l.a.createElement("a",{className:"example_a",rel:"nofollow noopener"},"Add Coupled Habits"))},z=a(20);z.initializeApp({apiKey:"AIzaSyAlAvmlHXmwzFsKBfZvDffl8ADZRTSQKoo",authDomain:"habitcoupler.firebaseapp.com",databaseURL:"https://habitcoupler.firebaseio.com",projectId:"habitcoupler",storageBucket:"",messagingSenderId:"523402458186",appId:"1:523402458186:web:859c24e987d60d43"});var W=z.database(),q=z.auth(),P=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleChoice=function(e){if(a.state.firstBox){if(!a.state.firstBox)return;a.setState({firstBox:!1,data:{habit1:a.state.data.habit1,habit2:e}})}else a.setState({firstBox:!0,data:{habit1:e,habit2:a.state.data.habit2}})},a.handleCoupledHabits=function(e){e.preventDefault(),a.state.data.habit1&&a.state.data.habit2&&v.updateHabits(a.state.user._id,a.state.data).then(function(e){a.loadUser(),console.log("Front end res",e),alert("New paired habits...Done."),a.setState({data:{habit1:"",habit2:""}})}).catch(function(e){return console.log(e)})},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(y.a)({},n,l))},a.loadUser=function(){v.getUser(a.state.email).then(function(e){a.setState({user:e.data[0]})}).catch(function(e){return console.log(e)})},a.loadHabits=function(){v.getHabits().then(function(e){a.setState({allhabits:e.data})}).catch(function(e){return console.log(e)})},a.handleLoginClick=a.handleLoginClick.bind(Object(I.a)(Object(I.a)(a))),a.handleLogoutClick=a.handleLogoutClick.bind(Object(I.a)(Object(I.a)(a))),a.handleCreateNew=a.handleCreateNew.bind(Object(I.a)(Object(I.a)(a))),a.handleCoupledHabits=a.handleCoupledHabits.bind(Object(I.a)(Object(I.a)(a))),a.handleNewHabit=a.handleNewHabit.bind(Object(I.a)(Object(I.a)(a))),a.handleChoice=a.handleChoice.bind(Object(I.a)(Object(I.a)(a))),a.state={firstBox:!1,isLoggedIn:!1,data:{habit1:"",habit2:""},newHabit:"",username:"",email:"",password:"",firebaseId:"",allhabits:[],user:{}},a}return Object(b.a)(t,e),Object(d.a)(t,[{key:"handleCreateNew",value:function(){var e=this;q.createUserWithEmailAndPassword(this.state.email,this.state.password).then(function(t){W.ref("users").push({}),e.state.username&&e.state.email&&v.saveUser({username:e.state.username,email:e.state.email,habits:[]}).then(function(t){return e.loadUser()}).catch(function(e){return console.log(e)}),alert("Account created.  Please login now."),e.setState({firebaseId:q.currentUser.uid})}).catch(function(e){alert(e.message)})}},{key:"handleLoginClick",value:function(){var e=this;q.signInWithEmailAndPassword(this.state.email,this.state.password).then(function(){e.setState({isLoggedIn:!0}),e.loadUser(),e.loadHabits(),e.setState({firebaseId:q.currentUser.uid})}).catch(function(e){var t=e.code,a=e.message;"auth/wrong-password"===t?alert("Wrong password."):alert(a),console.log(e)})}},{key:"handleNewHabit",value:function(){var e=this;v.saveHabit({habitname:this.state.newHabit}).then(function(t){e.loadHabits(),e.setState({newHabit:""})}).catch(function(e){return console.log(e)})}},{key:"handleLogoutClick",value:function(){q.signOut().then(function(){alert("You were successfully signed out.  (Don't make a habit of it?)")}).catch(function(e){}),this.setState({isLoggedIn:!1,email:"",password:"",firebaseId:"",username:"",user:{}})}},{key:"componentDidMount",value:function(){this.loadUser()}},{key:"render",value:function(){var e,t=this,a=this.state.isLoggedIn;return l.a.createElement("div",null,a?l.a.createElement("div",null,l.a.createElement(L,{onClick:this.handleLogoutClick}),l.a.createElement("div",null,l.a.createElement("h1",null,"Hello ",this.state.user.username)),l.a.createElement(S,{isLoggedIn:a}),l.a.createElement("input",{type:"text",readOnly:!0,value:this.state.data.habit1,onChange:this.handleInputChange,name:"habit1",placeholder:"Habit 1",required:!0}),l.a.createElement("input",{type:"text",readOnly:!0,value:this.state.data.habit2,onChange:this.handleInputChange,name:"habit2",placeholder:"Habit 2",required:!0}),l.a.createElement(D,{onClick:this.handleCoupledHabits}),this.state.user.habits.length?l.a.createElement("div",null,l.a.createElement("h4",null,"Your Habits:"),this.state.user.habits.map(function(e){return l.a.createElement("h6",null,"You've paired: ",e.habit1," with ",e.habit2)})):l.a.createElement("div",null,l.a.createElement("h5",null,"Your Habits will go here:")),l.a.createElement("h4",null,"All Habits ",l.a.createElement("h6",null,"*click a habit to add to possible pair fields")),this.state.allhabits.length?l.a.createElement("div",null,this.state.allhabits.map(function(e){return l.a.createElement("h6",{onClick:function(){return t.handleChoice(e.habitname)},id:e.habitname.replace(" ","-").replace(" ","-").replace(" ","-").replace(" ","-").replace(" ","-").replace(" ","-").replace(" ","-").toLowerCase()},l.a.createElement("a",null," ",e.habitname))}),l.a.createElement("input",{type:"text",value:this.state.newHabit,onChange:this.handleInputChange,name:"newHabit",placeholder:"Add New Habit"}),l.a.createElement(B,{onClick:this.handleNewHabit})):l.a.createElement("h3",null,"No Results to Display")):l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("input",{id:"login-fields",className:"container col-4",type:"text",value:this.state.username,onChange:this.handleInputChange,name:"username",placeholder:"username",required:!0}),l.a.createElement("div",{className:"col-4"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("input",{id:"login-fields",className:"container col-4",type:"text",value:this.state.email,onChange:this.handleInputChange,name:"email",placeholder:"email",required:!0}),l.a.createElement("div",{className:"col-4"})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("input",(e={id:"login-fields",className:"container col-4",type:"text",value:this.state.password,onChange:this.handleInputChange},Object(y.a)(e,"type","password"),Object(y.a)(e,"name","password"),Object(y.a)(e,"placeholder","password"),Object(y.a)(e,"required",!0),e)),l.a.createElement("div",{className:"col-4"})),l.a.createElement(x,{onClick:this.handleLoginClick}),l.a.createElement(_,{onClick:this.handleCreateNew})))}}]),t}(l.a.Component),R=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(w,{fluid:!0},l.a.createElement(k,{size:"md-12 sm-12"},l.a.createElement(f,null,l.a.createElement("h1",null,"Welcome to Habit Coupler"))))}}]),t}(n.Component);var F=function(){return l.a.createElement(c.a,null,l.a.createElement("div",null,l.a.createElement(o.a,null,l.a.createElement(s.a,{exact:!0,path:"/",component:R}),l.a.createElement(s.a,{component:O})),l.a.createElement(P,null)))};r.a.render(l.a.createElement(F,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.7b227303.chunk.js.map